<html>

<head>
    <style>
        /* Style the handler elements */
        .handler {
            width: 300px;
            height: 100px;
            border: 1px solid black;
            margin: 10px;
            padding: 10px;
        }

        /* Style the endpoint elements */
        .endpoint {
            width: 100px;
            height: 50px;
            border: 1px solid black;
            margin: 10px;
            padding: 10px;
        }

        /* Highlight the handler element when dragged over */
        .over {
            border: 2px dashed red;
        }
    </style>
    <script>
        // A function to allow dragging of handler elements
        function dragHandler(event) {
            // Set the data to be transferred as the handler code
            event.dataTransfer.setData("text", event.target.textContent);
        }

        // A function to allow dropping of handler elements on endpoint elements
        function dropHandler(event) {
            // Prevent the default action
            event.preventDefault();
            // Get the data from the transfer
            let data = event.dataTransfer.getData("text");
            // Set the endpoint element's value to the data
            event.target.value = data;
        }

        // A function to allow dragging over of handler elements on endpoint elements
        function dragOverHandler(event) {
            // Prevent the default action
            event.preventDefault();
            // Add the over class to the endpoint element
            event.target.classList.add("over");
        }

        // A function to remove the over class when dragging leaves
        function dragLeaveHandler(event) {
            // Remove the over class from the endpoint element
            event.target.classList.remove("over");
        }
    </script>
</head>

<body>
    <h1>Drag and drop the handler for the endpoint</h1>
    <p>Drag a handler from the list and drop it on an endpoint:</p>
    <div id="handlers">
        <div class="handler" draggable="true" ondragstart="dragHandler(event)">
            (req, res) => {res.send('Hello World!')}
        </div>
        <div class="handler" draggable="true" ondragstart="dragHandler(event)">
            (req, res) => {res.send(getAll('users'))}
        </div>
        <div class="handler" draggable="true" ondragstart="dragHandler(event)">
            (req, res) => {res.send(find('users', {id: req.params.id}))}
        </div>
        <div class="handler" draggable="true" ondragstart="dragHandler(event)">
            (req, res) => {add('users', req.body); res.send('User created')}
        </div>
        <div class="handler" draggable="true" ondragstart="dragHandler(event)">
            (req, res) => {let user = find('users', {id: req.params.id}); if (user) {user.name = req.body.name;
            user.email = req.body.email; res.send('User updated')} else {res.send('User not found')}}
        </div>
        <div class="handler" draggable="true" ondragstart="dragHandler(event)">
            (req, res) => {let user = find('users', {id: req.params.id}); if (user) {delete('users', user);
            res.send('User deleted')} else {res.send('User not found')}}
        </div>
    </div>
    <div id="endpoints">
        <input type="text" class="endpoint" placeholder="/" ondrop="dropHandler(event)"
            ondragover="dragOverHandler(event)" ondragleave="dragLeaveHandler(event)">
        <input type="text" class="endpoint" placeholder="/users" ondrop="dropHandler(event)"
            ondragover="dragOverHandler(event)" ondragleave="dragLeaveHandler(event)">
        <input type="text" class="endpoint" placeholder="/users/:id" ondrop="dropHandler(event)"
            ondragover="dragOverHandler(event)" ondragleave="dragLeaveHandler(event)">
        <input type="text" class="endpoint" placeholder="/users" ondrop="dropHandler(event)"
            ondragover="dragOverHandler(event)" ondragleave="dragLeaveHandler(event)">

    </div>
</body>

</html>